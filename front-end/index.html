<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cynet IT Solution | Cherpulassery</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .gradient-text {
            background: linear-gradient(to right, #06b6d4, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .hero-pattern {
            background-color: #0f172a;
            background-image: radial-gradient(#1e293b 1px, transparent 1px);
            background-size: 20px 20px;
        }
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 flex flex-col min-h-screen">

    <!-- Navigation -->
    <nav class="bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center gap-2 cursor-pointer" onclick="switchView('home')">
                    <div class="bg-cyan-500  rounded-lg text-white">
                        <img src="Assets/icon5.png" alt="Cynet Logo" class="w-10 h-10 rounded-lg">
                    </div>
                    <div >
                        <span class="text-2xl md:text-3xl font-bold tracking-tight text-slate-900 block leading-none">Cynet</span>
                        <span class="text-[5.5px] md:text-[7px] text-slate-500 uppercase tracking-wider font-semibold block md:translate-x-9 md:-translate-y-1.5 -translate-y-1 translate-x-7">IT Solution</span>
                    </div>
                </div>

                <!-- Desktop Nav Links -->
                <div class="hidden min-[850px]:flex items-center gap-8 mx-8">
                    <button onclick="switchView('home')" id="nav-home" class="text-sm font-semibold text-cyan-600">Home</button>
                    <button onclick="switchView('about')" id="nav-about" class="text-sm font-semibold text-slate-600 hover:text-cyan-600 transition-colors">About Us</button>
                    <button onclick="switchView('orders')"id="nav-myorders" class="nav-link text-sm font-semibold text-slate-600 hover:text-cyan-600 px-3 py-2 flex items-center gap-1">
                        <i data-lucide="package" class="w-4 h-4"></i> My Orders
                    </button>
                    <div class="relative w-64">
                        <input type="text" id="search-input" placeholder="Search..." 
                               class="w-full pl-9 pr-4 py-1.5 text-sm rounded-full border border-slate-300 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent bg-slate-50">
                        <i data-lucide="search" class="absolute left-3 top-2 text-slate-400 w-4 h-4"></i>
                    </div>
                </div>

                <!-- Icons -->
                <div class="flex items-center gap-4">
                    <button class="p-2 hover:bg-slate-100 rounded-full relative" id="cart-btn">
                        <i data-lucide="shopping-cart" class="w-6 h-6 text-slate-700"></i>
                        <span id="cart-count" class="absolute top-0 right-0 bg-cyan-600 text-white text-xs font-bold w-5 h-5 flex items-center justify-center rounded-full transform scale-0 transition-transform duration-200">0</span>
                    </button>
                    <button class="min-[850px]:hidden p-2 hover:bg-slate-100 rounded-full" id="mobile-menu-btn" onclick="toggleMobileMenu()">
                        <i data-lucide="menu" class="w-6 h-6 text-slate-700"></i>
                    </button>
                </div>
            </div>
            
            <!-- Mobile Menu -->
            <div id="mobile-menu" class="hidden min-[850px]:hidden border-t border-slate-100 bg-white absolute left-0 right-0 shadow-lg p-4 z-40">
                <div class="space-y-4">
                    <button onclick="switchView('home'); toggleMobileMenu()" class="block w-full text-left font-semibold text-slate-700">Home</button>
                    <button onclick="switchView('about'); toggleMobileMenu()" class="block w-full text-left font-semibold text-slate-700">About Us</button>
                    <button onclick="switchView('orders')" class="nav-link text-sm font-semibold text-slate-600 hover:text-cyan-600  flex items-center gap-1">
                        <i data-lucide="package" class="w-4 h-4"></i> My Orders
                    </button>
                </div>

                    <div class="relative top-2">
                        <input type="text" id="mobile-search-input" placeholder="Search products..." 
                               class="w-full pl-10 pr-4 py-2 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-cyan-500">
                        <i data-lucide="search" class="absolute left-3 top-2.5 text-slate-400 w-5 h-5"></i>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Content Views Container -->
    <div id="content-container" class="flex-grow">
        
        <!-- HOME PAGE VIEW -->
        <div id="home-view" class="fade-in">
            <!-- Hero Section -->
            <div class="hero-pattern text-white py-16 md:py-24 relative overflow-hidden">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row items-center gap-12 relative z-10">
                    <div class="flex-1 text-center md:text-left">
                        <span class="inline-block py-1 px-3 rounded-full bg-cyan-900/50 border border-cyan-500/30 text-cyan-400 text-sm font-semibold mb-6">Cherpulassery's Trusted Tech Shop</span>
                        <h1 class="text-4xl md:text-6xl font-bold tracking-tight mb-6 leading-tight">
                            Premium Tech.<br>
                            <span class="text-cyan-400">Pocket Friendly.</span>
                        </h1>
                        <p class="text-slate-400 text-lg mb-8 max-w-lg mx-auto md:mx-0">
                            The best deals on second-hand laptops and accessories in Palakkad. Quality tested, warrantied, and ready for work or play.
                        </p>
                        <div class="flex gap-4 justify-center md:justify-start">
                            <button onclick="scrollToProducts()" class="bg-cyan-500 hover:bg-cyan-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors">
                                Shop Now
                            </button>
                            <button onclick="switchView('about')" class="bg-slate-700 hover:bg-slate-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors">
                                Visit Store
                            </button>
                        </div>
                    </div>
                    <!-- Hero Image -->
                   
                </div>
            </div>

            <!-- Categories -->
            <div class="bg-white border-b border-slate-200">
                <div class="max-w-7xl mx-auto px-4 py-4">
                    <div class="flex gap-4 overflow-x-auto no-scrollbar" id="category-filters">
                        <button class="category-btn active px-6 py-2 rounded-full bg-slate-900 text-white text-sm font-medium whitespace-nowrap transition-all" data-category="all">All Products</button>
                        <button class="category-btn px-6 py-2 rounded-full bg-slate-100 text-slate-600 hover:bg-slate-200 text-sm font-medium whitespace-nowrap transition-all" data-category="laptop">Laptops</button>
                        <button class="category-btn px-6 py-2 rounded-full bg-slate-100 text-slate-600 hover:bg-slate-200 text-sm font-medium whitespace-nowrap transition-all" data-category="monitor">Monitors</button>
                        <button class="category-btn px-6 py-2 rounded-full bg-slate-100 text-slate-600 hover:bg-slate-200 text-sm font-medium whitespace-nowrap transition-all" data-category="accessory">Accessories</button>
                    </div>
                </div>
            </div>

            <!-- Main Product Grid -->
            <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-2xl font-bold text-slate-900">Latest Arrivals</h2>
                    <div class="text-sm text-slate-500">Showing <span id="product-count">0</span> items</div>
                </div>

                <div id="product-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                    <!-- Products injected via JS -->
                </div>

                <div id="no-results" class="hidden text-center py-20">
                    <div class="bg-slate-100 p-6 rounded-full inline-block mb-4">
                        <i data-lucide="search-x" class="w-12 h-12 text-slate-400"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-900 mb-2">No products found</h3>
                    <p class="text-slate-500">Try adjusting your search.</p>
                </div>
            </main>

            <!-- Features Section -->
            <section class="bg-white py-16 border-t border-slate-200">
                <div class="max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="text-center p-6 rounded-2xl bg-slate-50">
                        <div class="bg-cyan-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-cyan-600">
                            <i data-lucide="shield-check"></i>
                        </div>
                        <h3 class="font-bold text-lg mb-2">1 Month Warranty</h3>
                        <p class="text-slate-500 text-sm">We stand by our quality. All laptops come with a shop warranty for peace of mind.</p>
                    </div>
                    <div class="text-center p-6 rounded-2xl bg-slate-50">
                        <div class="bg-cyan-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-cyan-600">
                            <i data-lucide="wrench"></i>
                        </div>
                        <h3 class="font-bold text-lg mb-2">Service Support</h3>
                        <p class="text-slate-500 text-sm">Chip-level service and upgrades available right here in Cherpulassery.</p>
                    </div>
                    <div class="text-center p-6 rounded-2xl bg-slate-50">
                        <div class="bg-cyan-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-cyan-600">
                            <i data-lucide="award"></i>
                        </div>
                        <h3 class="font-bold text-lg mb-2">A Grade Quality</h3>
                        <p class="text-slate-500 text-sm">We only stock "A Grade" off-lease corporate laptops from Dell, HP, and Lenovo.</p>
                    </div>
                </div>
            </section>
        </div>

               <!-- PRODUCT DETAIL VIEW (NEW) -->
        <div id="product-detail-view" class="hidden fade-in py-8 bg-white min-h-[60vh]">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <!-- Breadcrumbs -->
                <button onclick="switchView('home')" class="text-sm text-slate-500 hover:text-cyan-600 flex items-center gap-1 mb-8">
                    <i data-lucide="arrow-left" class="w-4 h-4"></i> Back to Products
                </button>

                <!-- Product Layout -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16">
                    <!-- Image Section -->
                    <div class="bg-slate-100 rounded-2xl overflow-hidden aspect-[4/3] shadow-sm border border-slate-200">
                        <img id="detail-image" src="" alt="" class="w-full h-full object-contain p-4">
                    </div>

                    <!-- Details Section -->
                    <div class="flex flex-col justify-center">
                        <div id="detail-category" class="text-sm font-bold text-cyan-600 uppercase tracking-wider mb-2"></div>
                        <h1 id="detail-title" class="text-3xl md:text-4xl font-bold text-slate-900 mb-4"></h1>
                        
                        <!-- Ratings / Condition -->
                        <div class="flex items-center gap-4 mb-6">
                            <span id="detail-condition" class="bg-slate-900 text-white px-3 py-1 rounded-full text-sm font-medium"></span>
                            <div class="flex items-center gap-1 text-amber-400">
                                <i data-lucide="star" class="w-4 h-4 fill-current"></i>
                                <i data-lucide="star" class="w-4 h-4 fill-current"></i>
                                <i data-lucide="star" class="w-4 h-4 fill-current"></i>
                                <i data-lucide="star" class="w-4 h-4 fill-current"></i>
                                <i data-lucide="star-half" class="w-4 h-4 fill-current"></i>
                                <span class="text-slate-400 text-sm ml-1">(4.8)</span>
                            </div>
                        </div>

                        <!-- Price -->
                        <div class="flex items-end gap-3 mb-8">
                            <span id="detail-price" class="text-4xl font-bold text-slate-900"></span>
                            <span id="detail-original-price" class="text-lg text-slate-400 line-through mb-1"></span>
                            <span class="text-green-600 font-bold mb-1 text-sm bg-green-100 px-2 py-0.5 rounded">Great Deal</span>
                        </div>

                        <!-- Description & Specs -->
                        <div class="bg-slate-50 p-6 rounded-xl border border-slate-200 mb-8">
                            <h3 class="font-bold text-slate-900 mb-3">Key Specifications</h3>
                            <p id="detail-specs" class="text-slate-600 leading-relaxed"></p>
                            <p class="text-slate-500 text-sm mt-4">
                                This product has been professionally inspected, tested, and cleaned by Cynet qualified technicians. Includes charger and standard accessories.
                            </p>
                        </div>

                        <!-- Actions -->
                        <div class="flex gap-4">
                            <button id="detail-add-btn" class="flex-1 bg-white border-2 border-slate-200 hover:border-cyan-500 hover:text-cyan-600 text-slate-900 font-bold py-4 rounded-xl transition-all flex items-center justify-center gap-2">
                                <i data-lucide="shopping-cart" class="w-5 h-5"></i> Add to Cart
                            </button>
                            <button id="detail-buy-btn" class="flex-1 bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-4 rounded-xl shadow-lg shadow-cyan-500/30 transition-all transform hover:-translate-y-1">
                                Buy Now
                            </button>
                        </div>
                        
                        <div class="mt-6 flex items-center justify-center gap-6 text-xs text-slate-500">
                            <span class="flex items-center gap-1"><i data-lucide="truck" class="w-4 h-4"></i> Fast Delivery</span>
                            <span class="flex items-center gap-1"><i data-lucide="shield-check" class="w-4 h-4"></i> 1 Month Warranty</span>
                            <span class="flex items-center gap-1"><i data-lucide="refresh-ccw" class="w-4 h-4"></i> Easy Returns</span>
                        </div>
                    </div>
                </div>

                <!-- Related Products -->
                <div class="border-t border-slate-200 pt-12">
                    <h3 class="text-2xl font-bold text-slate-900 mb-6">You might also like</h3>
                    <div id="related-products-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </div>
        </div>
        <!-- ABOUT PAGE VIEW -->
        <div id="about-view" class="hidden fade-in">
            <div class="bg-slate-900 text-white py-20 relative overflow-hidden">
                <div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1597733336794-12d05021d510?q=80&w=2000&auto=format&fit=crop')] bg-cover bg-center opacity-10"></div>
                <div class="max-w-7xl mx-auto px-4 relative z-10 text-center">
                    <h1 class="text-4xl md:text-5xl font-bold mb-4">About Cynet IT Solution</h1>
                    <p class="text-xl text-slate-300 max-w-2xl mx-auto">Your trusted partner for affordable technology in Cherpulassery.</p>
                </div>
            </div>

            <div class="max-w-7xl mx-auto px-4 py-16 grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <div>
                    <div class="inline-block py-1 px-3 rounded-full bg-cyan-100 text-cyan-700 text-sm font-bold mb-4">Our Story</div>
                    <h2 class="text-3xl font-bold text-slate-900 mb-6">Bridging the Digital Divide</h2>
                    <div class="prose text-slate-600 space-y-4">
                        <p>
                            Welcome to <strong>Cynet IT Solution</strong>. Located in the heart of Cherpulassery, we started with a simple mission: to make high-quality computing accessible to everyone in our community.
                        </p>
                        <p>
                            We understand that buying a brand-new laptop can be a significant financial burden. That's why we specialize in <strong>premium second-hand business laptops</strong>. These are devices built to last, originally used by large corporations, which we refurbish to look and perform like new.
                        </p>
                        <p>
                            Whether you are a student attending online classes, a professional working from home, or a business owner looking to equip your office, Cynet offers you top-tier performance at a fraction of the showroom price.
                        </p>
                    </div>
                    
                    <div class="mt-8 grid grid-cols-2 gap-4">
                        <div class="border-l-4 border-cyan-500 pl-4">
                            <div class="text-2xl font-bold text-slate-900">500+</div>
                            <div class="text-sm text-slate-500">Happy Customers</div>
                        </div>
                        <div class="border-l-4 border-cyan-500 pl-4">
                            <div class="text-2xl font-bold text-slate-900">100%</div>
                            <div class="text-sm text-slate-500">Quality Checked</div>
                        </div>
                    </div>
                </div>
                <div class="relative h-96 rounded-2xl overflow-hidden shadow-2xl group">
                    <img src="https://lh3.googleusercontent.com/p/AF1QipNEaPaD8c-kM_Rwcl3VCVBabt5mYJvFGhKU-uih=s1360-w1360-h1020-rw" class="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700" alt="Repair Shop">
                    <div class="absolute inset-0 bg-gradient-to-t from-slate-900/80 to-transparent flex items-end p-8">
                        <div class="text-white">
                            <div class="font-bold text-lg">Visit Our Store</div>
                            <div class="text-sm text-slate-300">Experience the quality before you buy.</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-slate-50 py-16">
                <div class="max-w-7xl mx-auto px-4">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl font-bold text-slate-900">Visit Us Today</h2>
                        <p class="text-slate-500 mt-2">We are conveniently located to serve you better.</p>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        <div class="bg-white p-8 rounded-xl shadow-sm border border-slate-200 text-center">
                            <div class="w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center mx-auto mb-4 text-cyan-600">
                                <i data-lucide="map-pin"></i>
                            </div>
                            <h3 class="font-bold text-lg mb-2">Our Location</h3>
                            <p class="text-slate-600">
                                Cynet IT Solution<br>
                                Near Private Bus Stand<br>
                                Cherpulassery, Kerala 679503
                            </p>
                        </div>
                        <div class="bg-white p-8 rounded-xl shadow-sm border border-slate-200 text-center">
                            <div class="w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center mx-auto mb-4 text-cyan-600">
                                <i data-lucide="clock"></i>
                            </div>
                            <h3 class="font-bold text-lg mb-2">Working Hours</h3>
                            <p class="text-slate-600">
                                Mon - Sat: 9:30 AM - 8:00 PM<br>
                                Sunday: 10:00 AM - 2:00 PM
                            </p>
                        </div>
                        <div class="bg-white p-8 rounded-xl shadow-sm border border-slate-200 text-center">
                            <div class="w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center mx-auto mb-4 text-cyan-600">
                                <i data-lucide="phone"></i>
                            </div>
                            <h3 class="font-bold text-lg mb-2">Contact Us</h3>
                            <p class="text-slate-600">
                                Phone: +91 98765 43210<br>
                                Email: cynet.cherpulassery@gmail.com
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CHECKOUT PAGE VIEW -->
        <div id="checkout-view" class="hidden fade-in min-h-[60vh] bg-slate-50 pb-16">
            <div class="bg-white border-b border-slate-200 py-6 mb-8">
                <div class="max-w-7xl mx-auto px-4">
                    <button onclick="switchView('home')" class="text-sm text-slate-500 hover:text-cyan-600 flex items-center gap-1 mb-2">
                        <i data-lucide="arrow-left" class="w-4 h-4"></i> Back to Shop
                    </button>
                    <h1 class="text-3xl font-bold text-slate-900">Secure Checkout</h1>
                </div>
            </div>

            <div class="max-w-7xl mx-auto px-4 grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Left Column: Billing Details -->
                <div class="lg:col-span-2">
                    <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6 sm:p-8">
                        <h2 class="text-xl font-bold text-slate-900 mb-6 flex items-center gap-2">
                            <div class="bg-cyan-100 p-2 rounded-lg text-cyan-600"><i data-lucide="user"></i></div>
                            Customer Details
                        </h2>
                        
                        <form id="checkout-form" onsubmit="processOrder(event)" class="space-y-6">
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-2">Full Name</label>
                                    <input type="text" required class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all" placeholder="John Doe">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-2">Phone Number</label>
                                    <input type="tel" required pattern="[0-9]{10}" class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all" placeholder="9876543210">
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-2">Delivery Address</label>
                                <textarea required rows="3" class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all" placeholder="House Name, Street, Landmark..."></textarea>
                            </div>

                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-2">City / Town</label>
                                    <input type="text" required class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all" value="Cherpulassery">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-2">Pincode</label>
                                    <input type="text" required class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all" placeholder="679503">
                                </div>
                            </div>

                            <hr class="border-slate-100 my-6">

                            <h2 class="text-xl font-bold text-slate-900 mb-6 flex items-center gap-2">
                                <div class="bg-cyan-100 p-2 rounded-lg text-cyan-600"><i data-lucide="credit-card"></i></div>
                                Payment Method
                            </h2>

                            <div class="space-y-3">
                                <label class="flex items-center p-4 border border-cyan-500 bg-cyan-50/50 rounded-xl cursor-pointer transition-all">
                                    <input type="radio" name="payment" value="cod" checked class="w-5 h-5 text-cyan-600 border-slate-300 focus:ring-cyan-500">
                                    <span class="ml-3 font-medium text-slate-900">Cash on Delivery</span>
                                    <span class="ml-auto text-xs font-semibold bg-green-100 text-green-700 px-2 py-1 rounded">Recommended</span>
                                </label>
                                <label class="flex items-center p-4 border border-slate-200 rounded-xl cursor-pointer hover:border-cyan-300 transition-all">
                                    <input type="radio" name="payment" value="upi" class="w-5 h-5 text-cyan-600 border-slate-300 focus:ring-cyan-500">
                                    <span class="ml-3 font-medium text-slate-900">UPI / GPay</span>
                                </label>
                            </div>

                            <button type="submit" class="w-full bg-cyan-600 hover:bg-cyan-700 text-white text-lg font-bold py-4 rounded-xl shadow-lg shadow-cyan-500/30 transition-all transform active:scale-95 mt-6">
                                Place Order
                            </button>
                        </form>
                    </div>
                </div>

                <!-- Right Column: Order Summary -->
                <div class="lg:col-span-1">
                    <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6 sticky top-24">
                        <h3 class="text-lg font-bold text-slate-900 mb-4">Order Summary</h3>
                        <div id="checkout-items" class="space-y-4 mb-6 max-h-80 overflow-y-auto pr-2">
                            <!-- Items injected via JS -->
                        </div>
                        
                        <div class="space-y-3 border-t border-slate-100 pt-4">
                            <div class="flex justify-between text-slate-600">
                                <span>Subtotal</span>
                                <span id="checkout-subtotal">₹0.00</span>
                            </div>
                            <div class="flex justify-between text-slate-600">
                                <span>Shipping</span>
                                <span class="text-green-600 font-medium">Free</span>
                            </div>
                            <div class="flex justify-between text-slate-900 font-bold text-xl border-t border-slate-100 pt-3">
                                <span>Total</span>
                                <span id="checkout-total">₹0.00</span>
                            </div>
                        </div>

                        <div class="bg-slate-50 rounded-lg p-4 mt-6 text-xs text-slate-500 flex gap-2">
                            <i data-lucide="shield-check" class="w-12 h-12 text-slate-400 shrink-0"></i>
                            <p>Your personal data will be used to process your order, support your experience throughout this website, and for other purposes described in our privacy policy.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Success Modal -->
        <div id="success-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-[80] hidden flex items-center justify-center p-4 opacity-0 transition-opacity duration-300">
            <div class="bg-white rounded-2xl max-w-sm w-full p-8 text-center transform scale-95 transition-transform duration-300" id="success-modal-content">
                <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 text-green-500">
                    <i data-lucide="check" class="w-10 h-10"></i>
                </div>
                <h2 class="text-2xl font-bold text-slate-900 mb-2">Order Placed!</h2>
                <p class="text-slate-500 mb-6">Thank you for shopping with Cynet. We will contact you shortly to confirm delivery.</p>
                <button onclick="closeSuccessModal()" class="w-full bg-slate-900 hover:bg-slate-800 text-white font-bold py-3 rounded-xl transition-colors">
                    Continue Shopping
                </button>
            </div>
        </div>

    </div>
        <!-- MY ORDERS VIEW -->
        <div id="orders-view" class="hidden fade-in py-12 px-4 max-w-4xl mx-auto min-h-[60vh]">
            <div class="flex items-center justify-between mb-8">
                <h1 class="text-3xl font-bold text-slate-900">My Orders</h1>
                <div class="bg-cyan-100 text-cyan-700 px-4 py-1 rounded-full text-sm font-bold">
                    <span id="order-count-badge">0</span> Orders
                </div>
            </div>

            <div id="orders-list" class="space-y-6">
                <!-- Empty State -->
                <div id="no-orders" class="text-center p-20 bg-white rounded-2xl border border-dashed border-slate-300">
                    <div class="bg-slate-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i data-lucide="package-search" class="w-8 h-8 text-slate-400"></i>
                    </div>
                    <h3 class="font-bold text-lg text-slate-700">No orders yet</h3>
                    <p class="text-slate-500 mb-6">Looks like you haven't placed any orders yet.</p>
                    <button onclick="switchView('home')" class="bg-cyan-600 text-white px-6 py-2 rounded-lg font-semibold">Start Shopping</button>
                </div>
            </div>
        </div>
    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-300 py-12 mt-auto">
        <div class="max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-8">
            <div class="col-span-1 md:col-span-2">
                <div class="flex items-center gap-2 mb-4">
                    <div class="  rounded text-white">
                        <img src="Assets/icon5.png" alt="Cynet Logo" class="w-10 h-10 rounded-lg">
                    </div>
                    <span class="text-xl font-bold text-white">Cynet IT Solution</span>
                </div>
                <p class="text-slate-400 text-sm max-w-sm mb-6">
                    Cherpulassery's favorite destination for affordable, high-quality second-hand laptops and computer parts. Giving tech a second chance.
                </p>
            </div>
            <div>
                <h4 class="text-white font-bold mb-4">Quick Links</h4>
                <ul class="space-y-2 text-sm">
                    <li><button onclick="switchView('home'); scrollToProducts()" class="hover:text-cyan-400 transition-colors">Laptops</button></li>
                    <li><button onclick="switchView('home'); scrollToProducts()" class="hover:text-cyan-400 transition-colors">Monitors</button></li>
                    <li><button onclick="switchView('about')" class="hover:text-cyan-400 transition-colors">About Us</button></li>
                    <li><button onclick="switchView('about')" class="hover:text-cyan-400 transition-colors">Contact</button></li>
                </ul>
            </div>
            <div>
                <h4 class="text-white font-bold mb-4">Find Us</h4>
                <ul class="space-y-2 text-sm">
                    <li class="flex items-center gap-2"><i data-lucide="map-pin" class="w-4 h-4 text-cyan-500"></i> Cherpulassery, Palakkad</li>
                    <li class="flex items-center gap-2"><i data-lucide="phone" class="w-4 h-4 text-cyan-500"></i> +91 98765 43210</li>
                </ul>
            </div>
        </div>
        <div class="max-w-7xl mx-auto px-4 mt-12 pt-8 border-t border-slate-800 text-center text-xs text-slate-500">
            &copy; 2023 Cynet IT Solution. All rights reserved.
        </div>
    </footer>

    <!-- Cart Sidebar Overlay -->
    <div id="cart-overlay" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] hidden transition-opacity duration-300 opacity-0"></div>

    <!-- Cart Sidebar -->
    <div id="cart-sidebar" class="fixed top-0 right-0 h-full w-full sm:w-96 bg-white shadow-2xl z-[70] transform translate-x-full transition-transform duration-300 flex flex-col">
        <div class="p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50">
            <h2 class="text-xl font-bold text-slate-900 flex items-center gap-2">
                <i data-lucide="shopping-bag" class="w-5 h-5"></i> Your Cart
            </h2>
            <button id="close-cart" class="p-2 hover:bg-slate-200 rounded-full transition-colors">
                <i data-lucide="x" class="w-6 h-6 text-slate-500"></i>
            </button>
        </div>
        
        <!-- Cart Items Container -->
        <div id="cart-items" class="flex-1 overflow-y-auto p-6 space-y-4">
            <!-- Empty State -->
            <div id="cart-empty" class="text-center py-10">
                <div class="bg-slate-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i data-lucide="shopping-cart" class="w-8 h-8 text-slate-300"></i>
                </div>
                <p class="text-slate-500">Your cart is empty.</p>
                <button onclick="closeCart()" class="mt-4 text-cyan-600 font-semibold text-sm hover:underline">Start Shopping</button>
            </div>
        </div>

        <!-- Cart Footer -->
        <div class="p-6 border-t border-slate-100 bg-slate-50">
            <div class="flex justify-between items-center mb-4">
                <span class="text-slate-600">Subtotal</span>
                <span id="cart-total" class="text-xl font-bold text-slate-900">$0.00</span>
            </div>
            <button onclick="checkout()" class="w-full bg-cyan-600 hover:bg-cyan-700 text-white py-3.5 rounded-xl font-bold shadow-lg shadow-cyan-500/30 transition-all transform active:scale-95 flex justify-center items-center gap-2">
                Checkout <i data-lucide="arrow-right" class="w-4 h-4"></i>
            </button>
        </div>
    </div>

    <!-- JavaScript Logic -->
    <script>
        // --- Navigation Logic ---
        function switchView(viewName) {
            const homeView = document.getElementById('home-view');
            const aboutView = document.getElementById('about-view');
            const myOrdersView = document.getElementById('orders-view');
            const checkoutView = document.getElementById('checkout-view');
            const productDetailView = document.getElementById('product-detail-view');
            const navHome = document.getElementById('nav-home');
            const navAbout = document.getElementById('nav-about');
            const navMyOrders = document.getElementById('nav-myorders');

            window.scrollTo(0,0);

            // Hide all first
            homeView.classList.add('hidden');
            aboutView.classList.add('hidden');
            myOrdersView.classList.add('hidden');
            checkoutView.classList.add('hidden');
            productDetailView.classList.add('hidden');
            // Reset Nav
            navHome.classList.remove('text-cyan-600');
            navHome.classList.add('text-slate-600');
            navAbout.classList.remove('text-cyan-600');
            navAbout.classList.add('text-slate-600');
            navMyOrders.classList.remove('text-cyan-600');
            navMyOrders.classList.add('text-slate-600');

            if (viewName === 'home') {
                homeView.classList.remove('hidden');
                navHome.classList.add('text-cyan-600');
                navHome.classList.remove('text-slate-600');
                
            } else if (viewName === 'about') {
                aboutView.classList.remove('hidden');
                navAbout.classList.add('text-cyan-600');
                navAbout.classList.remove('text-slate-600');
            }else if (viewName === 'orders') {
                myOrdersView.classList.remove('hidden');
                navMyOrders.classList.add('text-cyan-600');
                navMyOrders.classList.remove('text-slate-600');
            }else if (viewName === 'checkout') {
                checkoutView.classList.remove('hidden');
            }else if (viewName === 'product-detail') {
                productDetailView.classList.remove('hidden');
            }
        }

        function scrollToProducts() {
            switchView('home');
            setTimeout(() => {
                const grid = document.getElementById('product-grid');
                if(grid) {
                    const offset = grid.getBoundingClientRect().top + window.scrollY - 150;
                    window.scrollTo({top: offset, behavior: 'smooth'});
                }
            }, 100);
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        // --- Mock Data ---
        const products = [
            { id: 1, name: "Dell Latitude 5490", category: "laptop", price: 22000, originalPrice: 65000, image: "https://instagram.fcok6-1.fna.fbcdn.net/v/t51.82787-15/587815686_17986672814868991_1718490525634751797_n.jpg?stp=dst-jpegr_e35_p640x640_sh0.08_tt6&_nc_cat=101&ig_cache_key=Mzc3OTMwMTk4NTg3NTQ3OTExMw%3D%3D.3-ccb7-5&ccb=7-5&_nc_sid=58cdad&efg=eyJ2ZW5jb2RlX3RhZyI6InhwaWRzLjE0NDB4MTkyMC5oZHIuQzMifQ%3D%3D&_nc_ohc=Ir4iJJnScLoQ7kNvwHyt5K5&_nc_oc=AdlVxaNRo0sbkXK0rqODsT6E8pHLpFOgGQWQiQThrO-uwwv4KZt_a8e2bdWtVD9N308&_nc_ad=z-m&_nc_cid=0&_nc_zt=23&se=-1&_nc_ht=instagram.fcok6-1.fna&_nc_gid=xcC5VsdZTPQ2VD4Jdwvmxw&oh=00_AfkU5LzC86Zbhi6ZNGe7kk5nCcY7s_bcIIaZIHO8UED9cw&oe=69543AB0", specs: "i5-8th Gen | 16GB RAM | 256GB SSD", condition: "Excellent" },
            { id: 2, name: "Lenovo ThinkPad T480", category: "laptop", price: 24500, originalPrice: 72000, image: "https://instagram.fcok6-1.fna.fbcdn.net/v/t51.82787-15/588113163_17985888080868991_28750674832558832_n.jpg?stp=dst-jpg_e35_p640x640_sh0.08_tt6&_nc_cat=101&ig_cache_key=Mzc3MzQ4MTE1OTYwNzU0MTYxMQ%3D%3D.3-ccb7-5&ccb=7-5&_nc_sid=58cdad&efg=eyJ2ZW5jb2RlX3RhZyI6InhwaWRzLjE0NDB4MTkyMC5zZHIuQzMifQ%3D%3D&_nc_ohc=VUDmMVFRfAoQ7kNvwE7sZ4-&_nc_oc=AdmuETIrKI60yRBXqsAs62VOLmIFsVHVq51suqIdqqcaCJuuZcu9dLcLLhxYfnxDVbs&_nc_ad=z-m&_nc_cid=0&_nc_zt=23&_nc_ht=instagram.fcok6-1.fna&_nc_gid=xcC5VsdZTPQ2VD4Jdwvmxw&oh=00_AfmxZoJzK-SoDzB-ppW-bKzD7Y_ljln1oF3lzarfgDnwsA&oe=69542F1D", specs: "i5-8th Gen | 8GB RAM | 512GB SSD", condition: "Good" },
            { id: 3, name: "Logitech MX Master 2S", category: "accessory", price: 3500, originalPrice: 8000, image: "https://m.media-amazon.com/images/I/61v1eEAWXYL.jpg", specs: "Wireless | Ergonomic | Used", condition: "Like New" },
            { id: 4, name: "HP EliteBook 840 G5", category: "laptop", price: 26000, originalPrice: 75000, image: "https://instagram.fcok6-1.fna.fbcdn.net/v/t51.82787-15/536754993_17975781179868991_8177848442847958263_n.webp?stp=dst-webp_p640x640_sh0.08&_nc_cat=107&ig_cache_key=MzcwNDA3OTE5NTAyMTE4ODE1Mw%3D%3D.3-ccb7-5&ccb=7-5&_nc_sid=58cdad&efg=eyJ2ZW5jb2RlX3RhZyI6InhwaWRzLjE0NDB4MTkyMC5zZHIuQzMifQ%3D%3D&_nc_ohc=rvpRz7cvzEoQ7kNvwFKJ5_w&_nc_oc=AdmIrvrDQoSpKlQoIbUSPCGhGNO3grrj8q-m0UI7a7QBWgEc2bnFAL-A_QzJc6Y7M5o&_nc_ad=z-m&_nc_cid=0&_nc_zt=23&_nc_ht=instagram.fcok6-1.fna&_nc_gid=uu97wp9CKwgWNJ_DyXTHRg&oh=00_AfkNOfRgd6aDP0hdPjIGuY46RnA-4Ia5VZ_UC9BpOvCf6w&oe=69543847", specs: "i7-8th Gen | 16GB RAM | 512GB NVMe", condition: "Very Good" },
            { id: 5, name: "Samsung 24\" IPS Monitor", category: "monitor", price: 6500, originalPrice: 12000, image: "https://images.samsung.com/is/image/samsung/p6pim/in/ls24c310eawxxl/gallery/in-essential-s3-27s31c-453765-ls24c310eawxxl-537300156?$Q90_1368_1094_F_JPG$", specs: "1080p | 75Hz | HDMI", condition: "Good" },
            { id: 6, name: "Corsair K70 Mech Keyboard", category: "accessory", price: 4500, originalPrice: 11000, image: "https://i.dell.com/is/image/DellContent/content/dam/ss2/product-images/peripherals/input-devices/dell/keyboards/aw420k/media-gallery/keyboard-aw420k-xkb-05-bk-gallery-01.psd?fmt=png-alpha&pscan=auto&scl=1&hei=804&wid=2778&qlt=100,1&resMode=sharp2&size=2778,804&chrss=full", specs: "Cherry MX Red | RGB | Wired", condition: "Used - Cleaned" },
            { id: 7, name: "NVIDIA GTX 1660 Super", category: "component", price: 12000, originalPrice: 22000, image: "https://m.media-amazon.com/images/I/71tJe-BUlWL._SX679_.jpg", specs: "6GB GDDR6 | Dual Fan", condition: "Used" },
            { id: 8, name: "MacBook Air 2017", category: "laptop", price: 28000, originalPrice: 65000, image: "https://instagram.fcok6-2.fna.fbcdn.net/v/t51.82787-15/530830423_17974755878868991_2708451316090533034_n.webp?stp=dst-webp_p640x640_sh0.08&_nc_cat=100&ig_cache_key=MzY5Njg5MzcwMzk1NTUyODQ0NA%3D%3D.3-ccb7-5&ccb=7-5&_nc_sid=58cdad&efg=eyJ2ZW5jb2RlX3RhZyI6InhwaWRzLjE0NDB4MTkyMC5zZHIuQzMifQ%3D%3D&_nc_ohc=_IkwY9AnbhQQ7kNvwGxQAn_&_nc_oc=AdklCjjLaxhWBTeiLHhnstPcNmEn7Vvhly3gLwslY4F7wsJ5mA34cJgFc7Ompey5IiY&_nc_ad=z-m&_nc_cid=0&_nc_zt=23&_nc_ht=instagram.fcok6-2.fna&_nc_gid=uu97wp9CKwgWNJ_DyXTHRg&oh=00_AfnR24m3RFpnFa8FrX5Z7Q94RWspwTwWeO-69Dx6hbiOdw&oe=69543494", specs: "i5 | 8GB RAM | 128GB SSD", condition: "Fair" }
        ];

        // State
        let cart = [];
        let activeCategory = 'all';
        let searchQuery = '';

        // DOM Elements
        const productGrid = document.getElementById('product-grid');
        const cartBtn = document.getElementById('cart-btn');
        const cartSidebar = document.getElementById('cart-sidebar');
        const cartOverlay = document.getElementById('cart-overlay');
        const closeCartBtn = document.getElementById('close-cart');
        const cartItemsContainer = document.getElementById('cart-items');
        const cartCountBadge = document.getElementById('cart-count');
        const cartTotalDisplay = document.getElementById('cart-total');
        const cartEmptyState = document.getElementById('cart-empty');
        const searchInput = document.getElementById('search-input');
        const mobileSearchInput = document.getElementById('mobile-search-input');
        const categoryBtns = document.querySelectorAll('.category-btn');
        const noResults = document.getElementById('no-results');
        const productCount = document.getElementById('product-count');

        // Initial Render
        function init() {
            renderProducts();
            lucide.createIcons();
            
            // Event Listeners
            cartBtn.addEventListener('click', openCart);
            closeCartBtn.addEventListener('click', closeCart);
            cartOverlay.addEventListener('click', closeCart);
            
            searchInput.addEventListener('input', (e) => {
                searchQuery = e.target.value.toLowerCase();
                if(searchQuery.length > 0) switchView('home');
                renderProducts();
            });
            
            if(mobileSearchInput) {
                mobileSearchInput.addEventListener('input', (e) => {
                    searchQuery = e.target.value.toLowerCase();
                    if(searchQuery.length > 0) switchView('home');
                    renderProducts();
                });
            }

            categoryBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    categoryBtns.forEach(b => {
                        b.classList.remove('bg-slate-900', 'text-white');
                        b.classList.add('bg-slate-100', 'text-slate-600');
                    });
                    btn.classList.remove('bg-slate-100', 'text-slate-600');
                    btn.classList.add('bg-slate-900', 'text-white');
                    
                    activeCategory = btn.dataset.category;
                    renderProducts();
                });
            });
        }

        // Render Products
        function renderProducts() {
            productGrid.innerHTML = '';
            
            const filteredProducts = products.filter(p => {
                const matchesCategory = activeCategory === 'all' || p.category === activeCategory;
                const matchesSearch = p.name.toLowerCase().includes(searchQuery) || 
                                    p.specs.toLowerCase().includes(searchQuery);
                return matchesCategory && matchesSearch;
            });

            productCount.textContent = filteredProducts.length;

            if (filteredProducts.length === 0) {
                noResults.classList.remove('hidden');
            } else {
                noResults.classList.add('hidden');
                
                filteredProducts.forEach(product => {
                    const card = document.createElement('div');
                    card.className = 'group bg-white rounded-2xl p-3 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 border border-slate-100';
                    card.innerHTML = `
                        <div class="relative overflow-hidden rounded-xl bg-slate-100 mb-4 aspect-[4/3] cursor-pointer" onclick="showProductDetails(${product.id})">
                            <img src="${product.image}" alt="${product.name}" class="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500">
                            <div class="absolute top-2 right-2 bg-white/90 backdrop-blur text-xs font-bold px-2 py-1 rounded shadow-sm">
                                ${product.condition}
                            </div>
                            <button onclick="addToCart(${product.id})" class="absolute bottom-3 right-3 bg-white p-2 rounded-full shadow-lg text-slate-900 hover:text-cyan-600 hover:scale-110 transition-all opacity-0 group-hover:opacity-100 translate-y-2 group-hover:translate-y-0">
                                <i data-lucide="plus" class="w-5 h-5"></i>
                            </button>
                        </div>
                        <div class="px-1">
                            <div class="text-xs text-cyan-600 font-bold mb-1 uppercase tracking-wide">${product.category}</div>
                            <h3 class="font-bold text-slate-900 text-lg leading-tight mb-1 truncate">${product.name}</h3>
                            <p class="text-xs text-slate-500 mb-3">${product.specs}</p>
                            <div class="flex items-end justify-between">
                                <div>
                                    <span class="text-lg font-bold text-slate-900">₹${product.price.toLocaleString()}</span>
                                    <span class="text-xs text-slate-400 line-through ml-1">₹${product.originalPrice.toLocaleString()}</span>
                                </div>
                                <button onclick="addToCart(${product.id})" class="text-sm font-semibold text-slate-900 underline decoration-cyan-400 hover:text-cyan-600 transition-colors">
                                    Add
                                </button>
                            </div>
                        </div>
                    `;
                    productGrid.appendChild(card);
                });
                lucide.createIcons();
            }
        }
         // --- NEW: Product Details Logic ---
        function showProductDetails(id) {
            const product = products.find(p => p.id === id);
            if (!product) return;

            // Populate Details
            document.getElementById('detail-image').src = product.image;
            document.getElementById('detail-category').innerText = product.category;
            document.getElementById('detail-title').innerText = product.name;
            document.getElementById('detail-price').innerText = '₹' + product.price.toLocaleString();
            document.getElementById('detail-original-price').innerText = '₹' + product.originalPrice.toLocaleString();
            document.getElementById('detail-specs').innerText = product.specs + ". High performance device suitable for multitasking, office work, and entertainment.";
            document.getElementById('detail-condition').innerText = product.condition;

            // Setup Buttons
            const addBtn = document.getElementById('detail-add-btn');
            addBtn.onclick = () => { addToCart(product.id); };

            const buyBtn = document.getElementById('detail-buy-btn');
            buyBtn.onclick = () => {
                addToCart(product.id);
                checkout();
            };

            // Generate Related Products
            const relatedGrid = document.getElementById('related-products-grid');
            relatedGrid.innerHTML = '';
            
            const related = products
                .filter(p => p.category === product.category && p.id !== product.id)
                .slice(0, 4); // Take up to 4 items

            if (related.length === 0) {
                 // Fallback if no related items in category, pick random
                 const random = products.filter(p => p.id !== product.id).slice(0,4);
                 renderRelatedCards(random, relatedGrid);
            } else {
                 renderRelatedCards(related, relatedGrid);
            }

            switchView('product-detail');
            lucide.createIcons();
        }

        function renderRelatedCards(items, container) {
            items.forEach(item => {
                const card = document.createElement('div');
                card.className = 'group bg-white rounded-xl border border-slate-100 p-2 cursor-pointer hover:shadow-lg transition-all';
                card.onclick = () => showProductDetails(item.id);
                card.innerHTML = `
                    <div class="aspect-video bg-slate-100 rounded-lg overflow-hidden mb-2">
                        <img src="${item.image}" class="w-full h-full object-cover">
                    </div>
                    <h4 class="font-bold text-slate-900 text-sm truncate">${item.name}</h4>
                    <div class="text-cyan-600 font-bold text-sm">₹${item.price.toLocaleString()}</div>
                `;
                container.appendChild(card);
            });
        }


        // Cart Functions
        window.addToCart = (productId) => {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);

            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ ...product, quantity: 1 });
            }

            updateCartUI();
            
            // Visual feedback
            cartBtn.classList.add('bg-cyan-100');
            setTimeout(() => cartBtn.classList.remove('bg-cyan-100'), 200);
            
            if (cart.length === 1 && cart[0].quantity === 1) {
                openCart();
            }
        };

        window.removeFromCart = (productId) => {
            cart = cart.filter(item => item.id !== productId);
            updateCartUI();
        };

        window.updateQuantity = (productId, change) => {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    updateCartUI();
                }
            }
        };

        function updateCartUI() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCountBadge.textContent = totalItems;
            
            if (totalItems > 0) {
                cartCountBadge.classList.remove('scale-0');
            } else {
                cartCountBadge.classList.add('scale-0');
            }

            cartItemsContainer.innerHTML = '';
            
            if (cart.length === 0) {
                cartItemsContainer.appendChild(cartEmptyState);
                cartEmptyState.style.display = 'block';
            } else {
                cartEmptyState.style.display = 'none';
                cart.forEach(item => {
                    const itemEl = document.createElement('div');
                    itemEl.className = 'flex gap-4 p-3 bg-white border border-slate-100 rounded-xl shadow-sm';
                    itemEl.innerHTML = `
                        <div class="w-16 h-16 bg-slate-100 rounded-lg flex-shrink-0 overflow-hidden">
                            <img src="${item.image}" class="w-full h-full object-cover">
                        </div>
                        <div class="flex-1 min-w-0">
                            <h4 class="font-bold text-sm text-slate-900 truncate">${item.name}</h4>
                            <div class="text-xs text-slate-500 mb-2">₹${item.price.toLocaleString()}</div>
                            <div class="flex items-center gap-3">
                                <div class="flex items-center bg-slate-100 rounded-lg">
                                    <button onclick="updateQuantity(${item.id}, -1)" class="p-1 px-2 hover:bg-slate-200 rounded-l-lg transition-colors">-</button>
                                    <span class="text-xs font-bold w-4 text-center">${item.quantity}</span>
                                    <button onclick="updateQuantity(${item.id}, 1)" class="p-1 px-2 hover:bg-slate-200 rounded-r-lg transition-colors">+</button>
                                </div>
                                <button onclick="removeFromCart(${item.id})" class="text-xs text-red-400 hover:text-red-600 underline">Remove</button>
                            </div>
                        </div>
                    `;
                    cartItemsContainer.appendChild(itemEl);
                });
            }

            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const formattedTotal = '₹' + total.toLocaleString();
            cartTotalDisplay.textContent = formattedTotal;
            
            lucide.createIcons();
            return total;
        }

        function openCart() {
            cartSidebar.classList.remove('translate-x-full');
            cartOverlay.classList.remove('hidden');
            void cartOverlay.offsetWidth; 
            cartOverlay.classList.remove('opacity-0');
            document.body.style.overflow = 'hidden';
        }

        function closeCart() {
            cartSidebar.classList.add('translate-x-full');
            cartOverlay.classList.add('opacity-0');
            setTimeout(() => {
                cartOverlay.classList.add('hidden');
            }, 300);
            document.body.style.overflow = '';
        }

        // --- Checkout Logic ---
        
        window.checkout = () => {
            if (cart.length === 0) return;
            closeCart();
            switchView('checkout');
            renderCheckoutSummary();
        };

        function renderCheckoutSummary() {
            const container = document.getElementById('checkout-items');
            container.innerHTML = '';
            
            cart.forEach(item => {
                const el = document.createElement('div');
                el.className = 'flex gap-4 py-2 border-b border-slate-50 last:border-0';
                el.innerHTML = `
                    <div class="w-12 h-12 bg-slate-100 rounded-lg overflow-hidden flex-shrink-0">
                        <img src="${item.image}" class="w-full h-full object-cover">
                    </div>
                    <div class="flex-1">
                        <div class="flex justify-between items-start">
                            <h4 class="font-semibold text-sm text-slate-900 line-clamp-1">${item.name}</h4>
                            <span class="font-bold text-sm text-slate-900">₹${(item.price * item.quantity).toLocaleString()}</span>
                        </div>
                        <div class="text-xs text-slate-500">Qty: ${item.quantity} × ₹${item.price.toLocaleString()}</div>
                    </div>
                `;
                container.appendChild(el);
            });

            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            document.getElementById('checkout-subtotal').textContent = '₹' + total.toLocaleString();
            document.getElementById('checkout-total').textContent = '₹' + total.toLocaleString();
        }

        window.processOrder = (e) => {
            e.preventDefault();
            
            // Show Success Modal
            const modal = document.getElementById('success-modal');
            const modalContent = document.getElementById('success-modal-content');
            
            modal.classList.remove('hidden');
            // Trigger reflow
            void modal.offsetWidth;
            modal.classList.remove('opacity-0');
            modalContent.classList.remove('scale-95');
            modalContent.classList.add('scale-100');
            
            // Clear Cart
            cart = [];
            updateCartUI();
        };

        window.closeSuccessModal = () => {
            const modal = document.getElementById('success-modal');
            const modalContent = document.getElementById('success-modal-content');
            
            modal.classList.add('opacity-0');
            modalContent.classList.remove('scale-100');
            modalContent.classList.add('scale-95');
            
            setTimeout(() => {
                modal.classList.add('hidden');
                switchView('home');
            }, 300);
        };
function goToCheckout() {
            if(cart.length === 0) return;
            closeCart();
            switchView('checkout');
            const total = cart.reduce((a, b) => a + (b.price * b.qty), 0);
            document.getElementById('checkout-total-val').innerText = '₹' + total.toLocaleString();
            document.getElementById('checkout-summary').innerHTML = cart.map(c => `
                <div class="flex justify-between text-sm">
                    <span>${c.name} (x${c.qty})</span>
                    <span>₹${(c.qty * c.price).toLocaleString()}</span>
                </div>
            `).join('');
        }

        function processOrder(e) {
            e.preventDefault();
            const total = cart.reduce((a, b) => a + (b.price * b.qty), 0);
            const orderId = 'CY' + Math.floor(100000 + Math.random() * 900000);
            const date = new Date().toLocaleDateString('en-IN', { day: 'numeric', month: 'short', year: 'numeric' });
            
            // Create Order Record
            const newOrder = {
                id: orderId,
                date: date,
                total: total,
                items: [...cart],
                status: 'Processing',
                statusColor: 'bg-amber-100 text-amber-700'
            };

            orders.unshift(newOrder); // Add to history
            cart = [];
            updateCartCount();
            document.getElementById('success-modal').classList.remove('hidden');
            lucide.createIcons();
        }

        function hideSuccess() {
            document.getElementById('success-modal').classList.add('hidden');
        }

        function renderOrders() {
            const list = document.getElementById('orders-list');
            const countBadge = document.getElementById('order-count-badge');
            
            countBadge.innerText = orders.length;

            if(orders.length === 0) {
                document.getElementById('no-orders').classList.remove('hidden');
                list.innerHTML = '';
            } else {
                document.getElementById('no-orders').classList.add('hidden');
                list.innerHTML = orders.map(order => `
                    <div class="bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden">
                        <div class="bg-slate-50 px-6 py-4 flex flex-wrap justify-between items-center gap-4 border-b">
                            <div>
                                <div class="text-xs text-slate-500 uppercase font-bold">Order ID</div>
                                <div class="font-bold text-slate-900">#${order.id}</div>
                            </div>
                            <div>
                                <div class="text-xs text-slate-500 uppercase font-bold">Placed On</div>
                                <div class="font-bold text-slate-900">${order.date}</div>
                            </div>
                            <div>
                                <div class="text-xs text-slate-500 uppercase font-bold">Total</div>
                                <div class="font-bold text-cyan-600">₹${order.total.toLocaleString()}</div>
                            </div>
                            <div class="${order.statusColor} px-3 py-1 rounded-full text-xs font-bold">
                                ${order.status}
                            </div>
                        </div>
                        <div class="p-6">
                            <div class="space-y-4">
                                ${order.items.map(item => `
                                    <div class="flex items-center gap-4">
                                        <div class="w-12 h-12 bg-slate-100 rounded flex-shrink-0">
                                            <img src="${item.img}" class="w-full h-full object-cover rounded">
                                        </div>
                                        <div class="flex-grow">
                                            <div class="font-bold text-slate-800">${item.name}</div>
                                            <div class="text-sm text-slate-500">Qty: ${item.qty}</div>
                                        </div>
                                        <div class="font-bold text-slate-900 text-sm">₹${(item.price * item.qty).toLocaleString()}</div>
                                    </div>
                                `).join('')}
                            </div>
                            <div class="mt-6 pt-6 border-t flex justify-end gap-3">
                                <button onclick="switchView('about')" class="text-sm font-semibold text-slate-600 hover:text-cyan-600 transition-colors">Contact Support</button>
                                <button class="text-sm font-bold bg-slate-100 px-4 py-2 rounded-lg hover:bg-slate-200 transition-colors">Reorder</button>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            lucide.createIcons();
        }
        
        init();
    </script>
</body>
</html>